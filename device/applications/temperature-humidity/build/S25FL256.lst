ARM GAS  /tmp/cchRvyl1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"S25FL256.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.S25FL256_Initialize,"ax",%progbits
  18              		.align	1
  19              		.global	S25FL256_Initialize
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	S25FL256_Initialize:
  26              	.LFB124:
  27              		.file 1 "../../core/drivers/S25FL256/src/S25FL256.c"
   1:../../core/drivers/S25FL256/src/S25FL256.c **** /**
   2:../../core/drivers/S25FL256/src/S25FL256.c ****  * \file        S25FL256.c
   3:../../core/drivers/S25FL256/src/S25FL256.c ****  *
   4:../../core/drivers/S25FL256/src/S25FL256.c ****  * \details     128 Mbit (16 Mbyte)/256 Mbit (32 Mbyte) 3.0V
   5:../../core/drivers/S25FL256/src/S25FL256.c ****  *                 SPI Flash Memory
   6:../../core/drivers/S25FL256/src/S25FL256.c ****  *
   7:../../core/drivers/S25FL256/src/S25FL256.c ****  * \author      Mats De Meyer 
   8:../../core/drivers/S25FL256/src/S25FL256.c ****  * \date        09-2018
   9:../../core/drivers/S25FL256/src/S25FL256.c ****  */
  10:../../core/drivers/S25FL256/src/S25FL256.c **** #include "S25FL256.h"
  11:../../core/drivers/S25FL256/src/S25FL256.c **** 
  12:../../core/drivers/S25FL256/src/S25FL256.c **** #include <stdio.h>
  13:../../core/drivers/S25FL256/src/S25FL256.c **** #include <stdint.h>
  14:../../core/drivers/S25FL256/src/S25FL256.c **** #include <assert.h>
  15:../../core/drivers/S25FL256/src/S25FL256.c **** #include "string.h" // for memcpy.
  16:../../core/drivers/S25FL256/src/S25FL256.c **** 
  17:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_WRDI_CMD 0x04 // Write disable
  18:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_RDSR_CMD 0x05 // Read Status Register
  19:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_WREN_CMD 0x06 // Write enable
  20:../../core/drivers/S25FL256/src/S25FL256.c **** 
  21:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_PP_4B_CMD 0x12   //Page Program (4-byte address). Enables writing
  22:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_READ_4B_CMD 0x13 //Read (4-byte Address)
  23:../../core/drivers/S25FL256/src/S25FL256.c **** 
  24:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_BE_CMD 0x60 //Bulk erase
  25:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_SE_CMD 0xDC //Bulk erase
  26:../../core/drivers/S25FL256/src/S25FL256.c **** 
  27:../../core/drivers/S25FL256/src/S25FL256.c **** #define WRITE_IN_PROGRESS_MASK 0x01 //Bit 0 of RDSR is "Write in Progress"
  28:../../core/drivers/S25FL256/src/S25FL256.c **** 
  29:../../core/drivers/S25FL256/src/S25FL256.c **** #define SPI_WAIT 50
  30:../../core/drivers/S25FL256/src/S25FL256.c **** 
  31:../../core/drivers/S25FL256/src/S25FL256.c **** //One because it's only used to read a register
ARM GAS  /tmp/cchRvyl1.s 			page 2


  32:../../core/drivers/S25FL256/src/S25FL256.c **** uint8_t rxData[1];
  33:../../core/drivers/S25FL256/src/S25FL256.c **** //Five, because the max amount of bytes is 5, in send4BCommand
  34:../../core/drivers/S25FL256/src/S25FL256.c **** uint8_t txData[5];
  35:../../core/drivers/S25FL256/src/S25FL256.c **** 
  36:../../core/drivers/S25FL256/src/S25FL256.c **** SPI_HandleTypeDef *flashSPI;
  37:../../core/drivers/S25FL256/src/S25FL256.c **** 
  38:../../core/drivers/S25FL256/src/S25FL256.c **** /**
  39:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief   Initializes the S25FL256 driver.
  40:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns 0 if init is successful
  41:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns E_INIT_FAILED if SPI could not be configured.
  42:../../core/drivers/S25FL256/src/S25FL256.c ****     */
  43:../../core/drivers/S25FL256/src/S25FL256.c **** uint8_t S25FL256_Initialize(SPI_HandleTypeDef *hspi)
  44:../../core/drivers/S25FL256/src/S25FL256.c **** {
  28              		.loc 1 44 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 0646     		mov	r6, r0
  45:../../core/drivers/S25FL256/src/S25FL256.c **** 
  46:../../core/drivers/S25FL256/src/S25FL256.c ****     mMemBlockIndex = 0;
  41              		.loc 1 46 0
  42 0004 0024     		movs	r4, #0
  43 0006 134B     		ldr	r3, .L3
  44 0008 1C80     		strh	r4, [r3]	@ movhi
  47:../../core/drivers/S25FL256/src/S25FL256.c ****     memset(mMemBlock, 0, FLASH_BLOCK_SIZE);
  45              		.loc 1 47 0
  46 000a 4FF48072 		mov	r2, #256
  47 000e 2146     		mov	r1, r4
  48 0010 1148     		ldr	r0, .L3+4
  49              	.LVL1:
  50 0012 FFF7FEFF 		bl	memset
  51              	.LVL2:
  48:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentReadAddress = FIRST_FLASH_ADDRESS;
  52              		.loc 1 48 0
  53 0016 4FF44013 		mov	r3, #3145728
  54 001a 104A     		ldr	r2, .L3+8
  55 001c 1360     		str	r3, [r2]
  49:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentWriteAddress = FIRST_FLASH_ADDRESS;
  56              		.loc 1 49 0
  57 001e 104A     		ldr	r2, .L3+12
  58 0020 1360     		str	r3, [r2]
  50:../../core/drivers/S25FL256/src/S25FL256.c ****     _initialised = 0;
  59              		.loc 1 50 0
  60 0022 104D     		ldr	r5, .L3+16
  61 0024 2C70     		strb	r4, [r5]
  51:../../core/drivers/S25FL256/src/S25FL256.c **** 
  52:../../core/drivers/S25FL256/src/S25FL256.c ****     flashSPI = hspi;
  62              		.loc 1 52 0
  63 0026 104B     		ldr	r3, .L3+20
ARM GAS  /tmp/cchRvyl1.s 			page 3


  64 0028 1E60     		str	r6, [r3]
  53:../../core/drivers/S25FL256/src/S25FL256.c ****     //set CS pin to High
  54:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_GPIO_WritePin(GPIOF, GPIO_PIN_13, GPIO_PIN_SET);
  65              		.loc 1 54 0
  66 002a 0122     		movs	r2, #1
  67 002c 4FF40051 		mov	r1, #8192
  68 0030 0E48     		ldr	r0, .L3+24
  69 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
  70              	.LVL3:
  55:../../core/drivers/S25FL256/src/S25FL256.c **** 
  56:../../core/drivers/S25FL256/src/S25FL256.c ****     //disable HOLD & WP
  57:../../core/drivers/S25FL256/src/S25FL256.c ****     //set WP pin high
  58:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_GPIO_WritePin(GPIOE, GPIO_PIN_11, GPIO_PIN_SET);
  71              		.loc 1 58 0
  72 0036 0E4C     		ldr	r4, .L3+28
  73 0038 0122     		movs	r2, #1
  74 003a 4FF40061 		mov	r1, #2048
  75 003e 2046     		mov	r0, r4
  76 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
  77              	.LVL4:
  59:../../core/drivers/S25FL256/src/S25FL256.c ****     //set HOLD pin high
  60:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_GPIO_WritePin(GPIOE, GPIO_PIN_0, GPIO_PIN_SET);
  78              		.loc 1 60 0
  79 0044 0122     		movs	r2, #1
  80 0046 1146     		mov	r1, r2
  81 0048 2046     		mov	r0, r4
  82 004a FFF7FEFF 		bl	HAL_GPIO_WritePin
  83              	.LVL5:
  61:../../core/drivers/S25FL256/src/S25FL256.c ****     
  62:../../core/drivers/S25FL256/src/S25FL256.c ****     _initialised = 1;
  84              		.loc 1 62 0
  85 004e 0120     		movs	r0, #1
  86 0050 2870     		strb	r0, [r5]
  63:../../core/drivers/S25FL256/src/S25FL256.c **** 
  64:../../core/drivers/S25FL256/src/S25FL256.c ****     return _initialised;
  65:../../core/drivers/S25FL256/src/S25FL256.c **** }
  87              		.loc 1 65 0
  88 0052 70BD     		pop	{r4, r5, r6, pc}
  89              	.LVL6:
  90              	.L4:
  91              		.align	2
  92              	.L3:
  93 0054 00000000 		.word	mMemBlockIndex
  94 0058 00000000 		.word	mMemBlock
  95 005c 00000000 		.word	mCurrentReadAddress
  96 0060 00000000 		.word	mCurrentWriteAddress
  97 0064 00000000 		.word	_initialised
  98 0068 00000000 		.word	flashSPI
  99 006c 00140048 		.word	1207964672
 100 0070 00100048 		.word	1207963648
 101              		.cfi_endproc
 102              	.LFE124:
 104              		.section	.text.S25FL256_Enable,"ax",%progbits
 105              		.align	1
 106              		.global	S25FL256_Enable
 107              		.syntax unified
 108              		.thumb
ARM GAS  /tmp/cchRvyl1.s 			page 4


 109              		.thumb_func
 110              		.fpu fpv4-sp-d16
 112              	S25FL256_Enable:
 113              	.LFB135:
  66:../../core/drivers/S25FL256/src/S25FL256.c **** 
  67:../../core/drivers/S25FL256/src/S25FL256.c **** /**
  68:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Sets the read and write address to the start of this block. The max value is define
  69:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aBlockNr      The 256 byte block you want to start reading or writing from.
  70:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
  71:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
  72:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_INVALID_BLOCK_NR if aBlockNr is invalid.
  73:../../core/drivers/S25FL256/src/S25FL256.c ****     */
  74:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_open(const uint32_t aBlockNr)
  75:../../core/drivers/S25FL256/src/S25FL256.c **** {
  76:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
  77:../../core/drivers/S25FL256/src/S25FL256.c **** 
  78:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
  79:../../core/drivers/S25FL256/src/S25FL256.c ****     {
  80:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
  81:../../core/drivers/S25FL256/src/S25FL256.c ****     }
  82:../../core/drivers/S25FL256/src/S25FL256.c **** 
  83:../../core/drivers/S25FL256/src/S25FL256.c ****     if (aBlockNr > MAX_BLOCK_NUMBER)
  84:../../core/drivers/S25FL256/src/S25FL256.c ****     {
  85:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_INVALID_BLOCK_NR;
  86:../../core/drivers/S25FL256/src/S25FL256.c ****     }
  87:../../core/drivers/S25FL256/src/S25FL256.c **** 
  88:../../core/drivers/S25FL256/src/S25FL256.c ****     uint32_t newAddress = FIRST_FLASH_ADDRESS + aBlockNr * (FLASH_BLOCK_SIZE);
  89:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentReadAddress = newAddress;
  90:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentWriteAddress = newAddress;
  91:../../core/drivers/S25FL256/src/S25FL256.c **** 
  92:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
  93:../../core/drivers/S25FL256/src/S25FL256.c **** }
  94:../../core/drivers/S25FL256/src/S25FL256.c **** 
  95:../../core/drivers/S25FL256/src/S25FL256.c **** /**
  96:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Reads the given number of bytes from flash.
  97:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    apData     Pointer to the uint8_t array to fill.
  98:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aSize      The number of bytes to be read.
  99:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  the number of bytes read if successful
 100:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 101:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 102:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 103:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_read(uint8_t *apData, const uint32_t aSize)
 104:../../core/drivers/S25FL256/src/S25FL256.c **** {
 105:../../core/drivers/S25FL256/src/S25FL256.c **** 
 106:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 107:../../core/drivers/S25FL256/src/S25FL256.c **** 
 108:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 109:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 110:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 111:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 112:../../core/drivers/S25FL256/src/S25FL256.c **** 
 113:../../core/drivers/S25FL256/src/S25FL256.c ****     //Starting the read.
 114:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_send4BCommand(SPI_READ_4B_CMD, mCurrentReadAddress) == E_SPI_ERROR)
 115:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 116:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 117:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 118:../../core/drivers/S25FL256/src/S25FL256.c **** 
ARM GAS  /tmp/cchRvyl1.s 			page 5


 119:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Receive(flashSPI, apData, (uint16_t)aSize, HAL_MAX_DELAY);
 120:../../core/drivers/S25FL256/src/S25FL256.c **** 
 121:../../core/drivers/S25FL256/src/S25FL256.c ****     //__HAL_SPI_DISABLE(flashSPI);
 122:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 123:../../core/drivers/S25FL256/src/S25FL256.c **** 
 124:../../core/drivers/S25FL256/src/S25FL256.c ****     return aSize;
 125:../../core/drivers/S25FL256/src/S25FL256.c **** }
 126:../../core/drivers/S25FL256/src/S25FL256.c **** 
 127:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 128:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Buffers the given array. Once 256 bytes are cached, the data is flushed to flash.
 129:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    apData     Pointer to the uint8_t array with data to write.
 130:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aSize      The number of bytes to be written.
 131:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  The number of written bytes.
 132:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 133:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 134:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_LAST_BLOCK_WRITTEN if the last block was written and no more data can be buffered
 135:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 136:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_write(const uint8_t *apData, const uint32_t aSize)
 137:../../core/drivers/S25FL256/src/S25FL256.c **** {
 138:../../core/drivers/S25FL256/src/S25FL256.c **** 
 139:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 140:../../core/drivers/S25FL256/src/S25FL256.c **** 
 141:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 142:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 143:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 144:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 145:../../core/drivers/S25FL256/src/S25FL256.c **** 
 146:../../core/drivers/S25FL256/src/S25FL256.c ****     if (mCurrentWriteAddress > LAST_FLASH_ADDRESS)
 147:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 148:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_LAST_BLOCK_WRITTEN;
 149:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 150:../../core/drivers/S25FL256/src/S25FL256.c **** 
 151:../../core/drivers/S25FL256/src/S25FL256.c ****     uint32_t bytesLeftToWrite = aSize;
 152:../../core/drivers/S25FL256/src/S25FL256.c **** 
 153:../../core/drivers/S25FL256/src/S25FL256.c ****     while (mMemBlockIndex + bytesLeftToWrite >= FLASH_BLOCK_SIZE)
 154:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 155:../../core/drivers/S25FL256/src/S25FL256.c **** 
 156:../../core/drivers/S25FL256/src/S25FL256.c ****         //The number of bytes we will add to mMemBlock in this loop
 157:../../core/drivers/S25FL256/src/S25FL256.c ****         uint32_t bytesToWrite = FLASH_BLOCK_SIZE - mMemBlockIndex;
 158:../../core/drivers/S25FL256/src/S25FL256.c **** 
 159:../../core/drivers/S25FL256/src/S25FL256.c ****         //Filling the remainder of the buffer
 160:../../core/drivers/S25FL256/src/S25FL256.c ****         memcpy(&mMemBlock[mMemBlockIndex], apData, FLASH_BLOCK_SIZE);
 161:../../core/drivers/S25FL256/src/S25FL256.c **** 
 162:../../core/drivers/S25FL256/src/S25FL256.c ****         int flushedBytes = S25FL256_flush();
 163:../../core/drivers/S25FL256/src/S25FL256.c **** 
 164:../../core/drivers/S25FL256/src/S25FL256.c ****         //And writing the block of FLASH_BLOCK_SIZE bytes. This also clears mMemBlock and mMemBlock
 165:../../core/drivers/S25FL256/src/S25FL256.c ****         if (flushedBytes < 0)
 166:../../core/drivers/S25FL256/src/S25FL256.c ****         {
 167:../../core/drivers/S25FL256/src/S25FL256.c ****             //Flush failed
 168:../../core/drivers/S25FL256/src/S25FL256.c ****             return flushedBytes;
 169:../../core/drivers/S25FL256/src/S25FL256.c ****         }
 170:../../core/drivers/S25FL256/src/S25FL256.c **** 
 171:../../core/drivers/S25FL256/src/S25FL256.c ****         //Moving the pointer
 172:../../core/drivers/S25FL256/src/S25FL256.c ****         apData += bytesToWrite;
 173:../../core/drivers/S25FL256/src/S25FL256.c ****         bytesLeftToWrite -= bytesToWrite;
 174:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 175:../../core/drivers/S25FL256/src/S25FL256.c **** 
ARM GAS  /tmp/cchRvyl1.s 			page 6


 176:../../core/drivers/S25FL256/src/S25FL256.c ****     if (mCurrentWriteAddress > LAST_FLASH_ADDRESS)
 177:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 178:../../core/drivers/S25FL256/src/S25FL256.c ****         //Flash is full, no more buffering.
 179:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_LAST_BLOCK_WRITTEN;
 180:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 181:../../core/drivers/S25FL256/src/S25FL256.c ****     else if (bytesLeftToWrite > 0)
 182:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 183:../../core/drivers/S25FL256/src/S25FL256.c ****         //We still have some bytes left to cache.
 184:../../core/drivers/S25FL256/src/S25FL256.c ****         memcpy(&mMemBlock[mMemBlockIndex], apData, bytesLeftToWrite);
 185:../../core/drivers/S25FL256/src/S25FL256.c ****         bytesLeftToWrite = 0;
 186:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 187:../../core/drivers/S25FL256/src/S25FL256.c **** 
 188:../../core/drivers/S25FL256/src/S25FL256.c ****     return aSize - bytesLeftToWrite;
 189:../../core/drivers/S25FL256/src/S25FL256.c **** }
 190:../../core/drivers/S25FL256/src/S25FL256.c **** 
 191:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 192:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Returns the state of the write in process status bit.
 193:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  true is the flash is performing a write action.
 194:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 195:../../core/drivers/S25FL256/src/S25FL256.c **** uint8_t S25FL256_isWriteInProgress(void)
 196:../../core/drivers/S25FL256/src/S25FL256.c **** {
 197:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 198:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t status;
 199:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_readReg(SPI_RDSR_CMD, status) == 0)
 200:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 201:../../core/drivers/S25FL256/src/S25FL256.c ****         return (uint8_t)(status & WRITE_IN_PROGRESS_MASK);
 202:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 203:../../core/drivers/S25FL256/src/S25FL256.c **** 
 204:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 205:../../core/drivers/S25FL256/src/S25FL256.c **** }
 206:../../core/drivers/S25FL256/src/S25FL256.c **** 
 207:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 208:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Erases the entire flash.
 209:../../core/drivers/S25FL256/src/S25FL256.c ****                 This method is a write action. Poll with isWriteInProgress()
 210:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
 211:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 212:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 213:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 214:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_eraseFullFlash(void)
 215:../../core/drivers/S25FL256/src/S25FL256.c **** {
 216:../../core/drivers/S25FL256/src/S25FL256.c **** 
 217:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 218:../../core/drivers/S25FL256/src/S25FL256.c **** 
 219:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 220:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 221:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;        
 222:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 223:../../core/drivers/S25FL256/src/S25FL256.c **** 
 224:../../core/drivers/S25FL256/src/S25FL256.c ****     //Setting write enable
 225:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WREN_CMD) == E_SPI_ERROR)
 226:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 227:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 228:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 229:../../core/drivers/S25FL256/src/S25FL256.c **** 
 230:../../core/drivers/S25FL256/src/S25FL256.c ****     //The actual bulk erase
 231:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_BE_CMD) == E_SPI_ERROR)
 232:../../core/drivers/S25FL256/src/S25FL256.c ****     {
ARM GAS  /tmp/cchRvyl1.s 			page 7


 233:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 234:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 235:../../core/drivers/S25FL256/src/S25FL256.c **** 
 236:../../core/drivers/S25FL256/src/S25FL256.c ****     //And disabling write again.
 237:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WRDI_CMD) == E_SPI_ERROR)
 238:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 239:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 240:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 241:../../core/drivers/S25FL256/src/S25FL256.c **** 
 242:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 243:../../core/drivers/S25FL256/src/S25FL256.c **** }
 244:../../core/drivers/S25FL256/src/S25FL256.c **** 
 245:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 246:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Erases 256kb of data, starting from the given block.
 247:../../core/drivers/S25FL256/src/S25FL256.c ****                 This method is a write action. Poll with isWriteInProgress()
 248:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aBlockNr   The block you want to start erasing from.
 249:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
 250:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 251:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_INVALID_BLOCK_NR if aBlockNr is invalid.
 252:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 253:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 254:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_eraseSectorFromBlock(const uint32_t aBlockNr)
 255:../../core/drivers/S25FL256/src/S25FL256.c **** {
 256:../../core/drivers/S25FL256/src/S25FL256.c **** 
 257:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 258:../../core/drivers/S25FL256/src/S25FL256.c **** 
 259:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 260:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 261:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 262:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 263:../../core/drivers/S25FL256/src/S25FL256.c **** 
 264:../../core/drivers/S25FL256/src/S25FL256.c ****     if (aBlockNr > MAX_BLOCK_NUMBER)
 265:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 266:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_INVALID_BLOCK_NR;
 267:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 268:../../core/drivers/S25FL256/src/S25FL256.c **** 
 269:../../core/drivers/S25FL256/src/S25FL256.c ****     //Setting write enable
 270:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WREN_CMD) == E_SPI_ERROR)
 271:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 272:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 273:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 274:../../core/drivers/S25FL256/src/S25FL256.c **** 
 275:../../core/drivers/S25FL256/src/S25FL256.c ****     //The actual sector erase
 276:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_send4BCommand(SPI_SE_CMD, (FIRST_FLASH_ADDRESS + aBlockNr * (FLASH_BLOCK_SIZE))) =
 277:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 278:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 279:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 280:../../core/drivers/S25FL256/src/S25FL256.c **** 
 281:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_DISABLE(flashSPI);
 282:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 283:../../core/drivers/S25FL256/src/S25FL256.c **** 
 284:../../core/drivers/S25FL256/src/S25FL256.c ****     //Disabling write.
 285:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WRDI_CMD) == E_SPI_ERROR)
 286:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 287:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 288:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 289:../../core/drivers/S25FL256/src/S25FL256.c **** 
ARM GAS  /tmp/cchRvyl1.s 			page 8


 290:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 291:../../core/drivers/S25FL256/src/S25FL256.c **** }
 292:../../core/drivers/S25FL256/src/S25FL256.c **** 
 293:../../core/drivers/S25FL256/src/S25FL256.c **** /************************************************************************/
 294:../../core/drivers/S25FL256/src/S25FL256.c **** /* Private Methods                                                       */
 295:../../core/drivers/S25FL256/src/S25FL256.c **** /************************************************************************/
 296:../../core/drivers/S25FL256/src/S25FL256.c **** 
 297:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 298:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Reads the value of a register.
 299:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aReg      The register ytou want to read
 300:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aData     Pointer to the data location.
 301:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
 302:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns E_SPI_ERROR if something went wrong during SPI communication.
 303:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 304:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_readReg(uint8_t aReg, uint8_t aData)
 305:../../core/drivers/S25FL256/src/S25FL256.c **** {
 306:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[0] = aReg;
 307:../../core/drivers/S25FL256/src/S25FL256.c ****     aData = 0x00;
 308:../../core/drivers/S25FL256/src/S25FL256.c **** 
 309:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_ENABLE(flashSPI);
 310:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 311:../../core/drivers/S25FL256/src/S25FL256.c **** 
 312:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Transmit(flashSPI, (const uint8_t *)txData, 1, HAL_MAX_DELAY);
 313:../../core/drivers/S25FL256/src/S25FL256.c **** 
 314:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Receive(flashSPI, (const uint8_t *)rxData, 1, HAL_MAX_DELAY);
 315:../../core/drivers/S25FL256/src/S25FL256.c **** 
 316:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_DISABLE(flashSPI);
 317:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 318:../../core/drivers/S25FL256/src/S25FL256.c ****     aData = rxData[0];
 319:../../core/drivers/S25FL256/src/S25FL256.c **** 
 320:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 321:../../core/drivers/S25FL256/src/S25FL256.c **** }
 322:../../core/drivers/S25FL256/src/S25FL256.c **** 
 323:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 324:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief   Flushes the internal buffer and writes it to flash.
 325:../../core/drivers/S25FL256/src/S25FL256.c ****        This method should only be called when mMemBlock is full.
 326:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns 0 if successful
 327:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 328:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 329:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 330:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_flush(void)
 331:../../core/drivers/S25FL256/src/S25FL256.c **** {
 332:../../core/drivers/S25FL256/src/S25FL256.c **** 
 333:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 334:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 335:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 336:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 337:../../core/drivers/S25FL256/src/S25FL256.c **** 
 338:../../core/drivers/S25FL256/src/S25FL256.c ****     //Setting write enable
 339:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WREN_CMD) == E_SPI_ERROR)
 340:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 341:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 342:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 343:../../core/drivers/S25FL256/src/S25FL256.c **** 
 344:../../core/drivers/S25FL256/src/S25FL256.c ****     // write command and address adress
 345:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_send4BCommand(SPI_PP_4B_CMD, mCurrentWriteAddress) == E_SPI_ERROR)
 346:../../core/drivers/S25FL256/src/S25FL256.c ****     {
ARM GAS  /tmp/cchRvyl1.s 			page 9


 347:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 348:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 349:../../core/drivers/S25FL256/src/S25FL256.c **** 
 350:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Transmit(flashSPI, (const uint8_t *)mMemBlock, FLASH_BLOCK_SIZE, HAL_MAX_DELAY);
 351:../../core/drivers/S25FL256/src/S25FL256.c **** 
 352:../../core/drivers/S25FL256/src/S25FL256.c ****     //__HAL_SPI_DISABLE(flashSPI);
 353:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 354:../../core/drivers/S25FL256/src/S25FL256.c **** 
 355:../../core/drivers/S25FL256/src/S25FL256.c ****     //Setting write disable
 356:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_sendCommand(SPI_WRDI_CMD) == E_SPI_ERROR)
 357:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 358:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_SPI_ERROR;
 359:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 360:../../core/drivers/S25FL256/src/S25FL256.c **** 
 361:../../core/drivers/S25FL256/src/S25FL256.c ****     //It's possible that we pass LAST_FLASH_ADDRESS here, but the write method checks for that.
 362:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentWriteAddress += FLASH_BLOCK_SIZE;
 363:../../core/drivers/S25FL256/src/S25FL256.c **** 
 364:../../core/drivers/S25FL256/src/S25FL256.c ****     // Clearing mMemBlock and mMemBlockIndex
 365:../../core/drivers/S25FL256/src/S25FL256.c ****     memset(mMemBlock, 0, FLASH_BLOCK_SIZE);
 366:../../core/drivers/S25FL256/src/S25FL256.c ****     mMemBlockIndex = 0;
 367:../../core/drivers/S25FL256/src/S25FL256.c **** 
 368:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 369:../../core/drivers/S25FL256/src/S25FL256.c **** }
 370:../../core/drivers/S25FL256/src/S25FL256.c **** 
 371:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 372:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Sends a single command to the flash
 373:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    command The command to be sent.
 374:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
 375:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 376:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 377:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 378:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_sendCommand(const uint8_t command)
 379:../../core/drivers/S25FL256/src/S25FL256.c **** {
 380:../../core/drivers/S25FL256/src/S25FL256.c **** 
 381:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 382:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 383:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 384:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 385:../../core/drivers/S25FL256/src/S25FL256.c **** 
 386:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[0] = command;
 387:../../core/drivers/S25FL256/src/S25FL256.c **** 
 388:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_ENABLE(flashSPI);
 389:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 390:../../core/drivers/S25FL256/src/S25FL256.c **** 
 391:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Transmit(flashSPI, (const uint8_t *)txData, 1, HAL_MAX_DELAY);
 392:../../core/drivers/S25FL256/src/S25FL256.c **** 
 393:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_DISABLE(flashSPI);
 394:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 395:../../core/drivers/S25FL256/src/S25FL256.c **** 
 396:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 397:../../core/drivers/S25FL256/src/S25FL256.c **** }
 398:../../core/drivers/S25FL256/src/S25FL256.c **** 
 399:../../core/drivers/S25FL256/src/S25FL256.c **** /**
 400:../../core/drivers/S25FL256/src/S25FL256.c ****     * \brief    Sends a 4 byte address command
 401:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    command   The command to be sent.
 402:../../core/drivers/S25FL256/src/S25FL256.c ****     * \param    aBlockNr  The 4 byte address
 403:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  0 if successful
ARM GAS  /tmp/cchRvyl1.s 			page 10


 404:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_WRITE_IN_PROGRESS if the flash is performing a write action.
 405:../../core/drivers/S25FL256/src/S25FL256.c ****     * \returns  E_SPI_ERROR if something went wrong during SPI communication.
 406:../../core/drivers/S25FL256/src/S25FL256.c ****     */
 407:../../core/drivers/S25FL256/src/S25FL256.c **** int S25FL256_send4BCommand(const uint8_t command, const uint32_t address)
 408:../../core/drivers/S25FL256/src/S25FL256.c **** {
 409:../../core/drivers/S25FL256/src/S25FL256.c **** 
 410:../../core/drivers/S25FL256/src/S25FL256.c ****     if (S25FL256_isWriteInProgress())
 411:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 412:../../core/drivers/S25FL256/src/S25FL256.c ****         return E_WRITE_IN_PROGRESS;
 413:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 414:../../core/drivers/S25FL256/src/S25FL256.c **** 
 415:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t index = 0;
 416:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = command;
 417:../../core/drivers/S25FL256/src/S25FL256.c **** 
 418:../../core/drivers/S25FL256/src/S25FL256.c ****     //Writing 4 byte address.
 419:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)((address >> 24) & 0x000000FF);
 420:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)((address >> 16) & 0x000000FF);
 421:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)((address >> 8) & 0x000000FF);
 422:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)(address & 0x000000FF);
 423:../../core/drivers/S25FL256/src/S25FL256.c **** 
 424:../../core/drivers/S25FL256/src/S25FL256.c ****     //We have to enable SPI here, because isWriteInProgress disables it.
 425:../../core/drivers/S25FL256/src/S25FL256.c ****     //We don't disable it here, because CS has to stay high after this command.
 426:../../core/drivers/S25FL256/src/S25FL256.c ****     __HAL_SPI_ENABLE(flashSPI);
 427:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 428:../../core/drivers/S25FL256/src/S25FL256.c **** 
 429:../../core/drivers/S25FL256/src/S25FL256.c ****     //send the command over SPI
 430:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_SPI_Transmit(flashSPI, (const uint8_t *)txData, index, HAL_MAX_DELAY);
 431:../../core/drivers/S25FL256/src/S25FL256.c **** 
 432:../../core/drivers/S25FL256/src/S25FL256.c ****     return 0;
 433:../../core/drivers/S25FL256/src/S25FL256.c **** }
 434:../../core/drivers/S25FL256/src/S25FL256.c **** 
 435:../../core/drivers/S25FL256/src/S25FL256.c **** /* Manually toggle enable pin, due to it not being a default SPI pin */
 436:../../core/drivers/S25FL256/src/S25FL256.c **** void S25FL256_Enable()
 437:../../core/drivers/S25FL256/src/S25FL256.c **** {
 114              		.loc 1 437 0
 115              		.cfi_startproc
 116              		@ args = 0, pretend = 0, frame = 0
 117              		@ frame_needed = 0, uses_anonymous_args = 0
 118 0000 08B5     		push	{r3, lr}
 119              	.LCFI1:
 120              		.cfi_def_cfa_offset 8
 121              		.cfi_offset 3, -8
 122              		.cfi_offset 14, -4
 438:../../core/drivers/S25FL256/src/S25FL256.c ****     //set CS pin to low
 439:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_GPIO_WritePin(GPIOF, GPIO_PIN_13, GPIO_PIN_RESET);
 123              		.loc 1 439 0
 124 0002 0022     		movs	r2, #0
 125 0004 4FF40051 		mov	r1, #8192
 126 0008 0148     		ldr	r0, .L7
 127 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 128              	.LVL7:
 129 000e 08BD     		pop	{r3, pc}
 130              	.L8:
 131              		.align	2
 132              	.L7:
 133 0010 00140048 		.word	1207964672
 134              		.cfi_endproc
ARM GAS  /tmp/cchRvyl1.s 			page 11


 135              	.LFE135:
 137              		.section	.text.S25FL256_Disable,"ax",%progbits
 138              		.align	1
 139              		.global	S25FL256_Disable
 140              		.syntax unified
 141              		.thumb
 142              		.thumb_func
 143              		.fpu fpv4-sp-d16
 145              	S25FL256_Disable:
 146              	.LFB136:
 440:../../core/drivers/S25FL256/src/S25FL256.c **** }
 441:../../core/drivers/S25FL256/src/S25FL256.c **** 
 442:../../core/drivers/S25FL256/src/S25FL256.c **** /* Manually toggle enable pin, due to it not being a default SPI pin */
 443:../../core/drivers/S25FL256/src/S25FL256.c **** void S25FL256_Disable()
 444:../../core/drivers/S25FL256/src/S25FL256.c **** {
 147              		.loc 1 444 0
 148              		.cfi_startproc
 149              		@ args = 0, pretend = 0, frame = 0
 150              		@ frame_needed = 0, uses_anonymous_args = 0
 151 0000 08B5     		push	{r3, lr}
 152              	.LCFI2:
 153              		.cfi_def_cfa_offset 8
 154              		.cfi_offset 3, -8
 155              		.cfi_offset 14, -4
 445:../../core/drivers/S25FL256/src/S25FL256.c ****     //set CS pin to high
 446:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_GPIO_WritePin(GPIOF, GPIO_PIN_13, GPIO_PIN_SET);
 156              		.loc 1 446 0
 157 0002 0122     		movs	r2, #1
 158 0004 4FF40051 		mov	r1, #8192
 159 0008 0148     		ldr	r0, .L11
 160 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 161              	.LVL8:
 162 000e 08BD     		pop	{r3, pc}
 163              	.L12:
 164              		.align	2
 165              	.L11:
 166 0010 00140048 		.word	1207964672
 167              		.cfi_endproc
 168              	.LFE136:
 170              		.section	.text.S25FL256_readReg,"ax",%progbits
 171              		.align	1
 172              		.global	S25FL256_readReg
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 176              		.fpu fpv4-sp-d16
 178              	S25FL256_readReg:
 179              	.LFB131:
 305:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[0] = aReg;
 180              		.loc 1 305 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              	.LVL9:
 185 0000 38B5     		push	{r3, r4, r5, lr}
 186              	.LCFI3:
 187              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cchRvyl1.s 			page 12


 188              		.cfi_offset 3, -16
 189              		.cfi_offset 4, -12
 190              		.cfi_offset 5, -8
 191              		.cfi_offset 14, -4
 306:../../core/drivers/S25FL256/src/S25FL256.c ****     aData = 0x00;
 192              		.loc 1 306 0
 193 0002 114D     		ldr	r5, .L15
 194 0004 2870     		strb	r0, [r5]
 195              	.LVL10:
 309:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 196              		.loc 1 309 0
 197 0006 114C     		ldr	r4, .L15+4
 198 0008 2368     		ldr	r3, [r4]
 199 000a 1A68     		ldr	r2, [r3]
 200 000c 1368     		ldr	r3, [r2]
 201 000e 43F04003 		orr	r3, r3, #64
 202 0012 1360     		str	r3, [r2]
 310:../../core/drivers/S25FL256/src/S25FL256.c **** 
 203              		.loc 1 310 0
 204 0014 FFF7FEFF 		bl	S25FL256_Enable
 205              	.LVL11:
 312:../../core/drivers/S25FL256/src/S25FL256.c **** 
 206              		.loc 1 312 0
 207 0018 4FF0FF33 		mov	r3, #-1
 208 001c 0122     		movs	r2, #1
 209 001e 2946     		mov	r1, r5
 210 0020 2068     		ldr	r0, [r4]
 211 0022 FFF7FEFF 		bl	HAL_SPI_Transmit
 212              	.LVL12:
 314:../../core/drivers/S25FL256/src/S25FL256.c **** 
 213              		.loc 1 314 0
 214 0026 4FF0FF33 		mov	r3, #-1
 215 002a 0122     		movs	r2, #1
 216 002c 0849     		ldr	r1, .L15+8
 217 002e 2068     		ldr	r0, [r4]
 218 0030 FFF7FEFF 		bl	HAL_SPI_Receive
 219              	.LVL13:
 316:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 220              		.loc 1 316 0
 221 0034 2368     		ldr	r3, [r4]
 222 0036 1A68     		ldr	r2, [r3]
 223 0038 1368     		ldr	r3, [r2]
 224 003a 23F04003 		bic	r3, r3, #64
 225 003e 1360     		str	r3, [r2]
 317:../../core/drivers/S25FL256/src/S25FL256.c ****     aData = rxData[0];
 226              		.loc 1 317 0
 227 0040 FFF7FEFF 		bl	S25FL256_Disable
 228              	.LVL14:
 321:../../core/drivers/S25FL256/src/S25FL256.c **** 
 229              		.loc 1 321 0
 230 0044 0020     		movs	r0, #0
 231 0046 38BD     		pop	{r3, r4, r5, pc}
 232              	.L16:
 233              		.align	2
 234              	.L15:
 235 0048 00000000 		.word	txData
 236 004c 00000000 		.word	flashSPI
ARM GAS  /tmp/cchRvyl1.s 			page 13


 237 0050 00000000 		.word	rxData
 238              		.cfi_endproc
 239              	.LFE131:
 241              		.section	.text.S25FL256_isWriteInProgress,"ax",%progbits
 242              		.align	1
 243              		.global	S25FL256_isWriteInProgress
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 247              		.fpu fpv4-sp-d16
 249              	S25FL256_isWriteInProgress:
 250              	.LFB128:
 196:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 251              		.loc 1 196 0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 0
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255 0000 08B5     		push	{r3, lr}
 256              	.LCFI4:
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 3, -8
 259              		.cfi_offset 14, -4
 197:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t status;
 260              		.loc 1 197 0
 261 0002 3220     		movs	r0, #50
 262 0004 FFF7FEFF 		bl	HAL_Delay
 263              	.LVL15:
 199:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 264              		.loc 1 199 0
 265 0008 0021     		movs	r1, #0
 266 000a 0520     		movs	r0, #5
 267 000c FFF7FEFF 		bl	S25FL256_readReg
 268              	.LVL16:
 269 0010 00B9     		cbnz	r0, .L21
 270              	.L18:
 205:../../core/drivers/S25FL256/src/S25FL256.c **** 
 271              		.loc 1 205 0
 272 0012 08BD     		pop	{r3, pc}
 273              	.L21:
 204:../../core/drivers/S25FL256/src/S25FL256.c **** }
 274              		.loc 1 204 0
 275 0014 0020     		movs	r0, #0
 276 0016 FCE7     		b	.L18
 277              		.cfi_endproc
 278              	.LFE128:
 280              		.section	.text.S25FL256_open,"ax",%progbits
 281              		.align	1
 282              		.global	S25FL256_open
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv4-sp-d16
 288              	S25FL256_open:
 289              	.LFB125:
  75:../../core/drivers/S25FL256/src/S25FL256.c ****     HAL_Delay(SPI_WAIT);
 290              		.loc 1 75 0
 291              		.cfi_startproc
ARM GAS  /tmp/cchRvyl1.s 			page 14


 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              	.LVL17:
 295 0000 10B5     		push	{r4, lr}
 296              	.LCFI5:
 297              		.cfi_def_cfa_offset 8
 298              		.cfi_offset 4, -8
 299              		.cfi_offset 14, -4
 300 0002 0446     		mov	r4, r0
  76:../../core/drivers/S25FL256/src/S25FL256.c **** 
 301              		.loc 1 76 0
 302 0004 3220     		movs	r0, #50
 303              	.LVL18:
 304 0006 FFF7FEFF 		bl	HAL_Delay
 305              	.LVL19:
  78:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 306              		.loc 1 78 0
 307 000a FFF7FEFF 		bl	S25FL256_isWriteInProgress
 308              	.LVL20:
 309 000e 50B9     		cbnz	r0, .L24
  83:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 310              		.loc 1 83 0
 311 0010 084B     		ldr	r3, .L27
 312 0012 9C42     		cmp	r4, r3
 313 0014 0AD8     		bhi	.L25
  88:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentReadAddress = newAddress;
 314              		.loc 1 88 0
 315 0016 04F54054 		add	r4, r4, #12288
 316              	.LVL21:
 317 001a 2402     		lsls	r4, r4, #8
 318              	.LVL22:
  89:../../core/drivers/S25FL256/src/S25FL256.c ****     mCurrentWriteAddress = newAddress;
 319              		.loc 1 89 0
 320 001c 064B     		ldr	r3, .L27+4
 321 001e 1C60     		str	r4, [r3]
  90:../../core/drivers/S25FL256/src/S25FL256.c **** 
 322              		.loc 1 90 0
 323 0020 064B     		ldr	r3, .L27+8
 324 0022 1C60     		str	r4, [r3]
  92:../../core/drivers/S25FL256/src/S25FL256.c **** }
 325              		.loc 1 92 0
 326 0024 10BD     		pop	{r4, pc}
 327              	.LVL23:
 328              	.L24:
  80:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 329              		.loc 1 80 0
 330 0026 6FF00100 		mvn	r0, #1
 331 002a 10BD     		pop	{r4, pc}
 332              	.LVL24:
 333              	.L25:
  85:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 334              		.loc 1 85 0
 335 002c 6FF00300 		mvn	r0, #3
  93:../../core/drivers/S25FL256/src/S25FL256.c **** 
 336              		.loc 1 93 0
 337 0030 10BD     		pop	{r4, pc}
 338              	.LVL25:
ARM GAS  /tmp/cchRvyl1.s 			page 15


 339              	.L28:
 340 0032 00BF     		.align	2
 341              	.L27:
 342 0034 47B80100 		.word	112711
 343 0038 00000000 		.word	mCurrentReadAddress
 344 003c 00000000 		.word	mCurrentWriteAddress
 345              		.cfi_endproc
 346              	.LFE125:
 348              		.section	.text.S25FL256_send4BCommand,"ax",%progbits
 349              		.align	1
 350              		.global	S25FL256_send4BCommand
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 354              		.fpu fpv4-sp-d16
 356              	S25FL256_send4BCommand:
 357              	.LFB134:
 408:../../core/drivers/S25FL256/src/S25FL256.c **** 
 358              		.loc 1 408 0
 359              		.cfi_startproc
 360              		@ args = 0, pretend = 0, frame = 0
 361              		@ frame_needed = 0, uses_anonymous_args = 0
 362              	.LVL26:
 363 0000 70B5     		push	{r4, r5, r6, lr}
 364              	.LCFI6:
 365              		.cfi_def_cfa_offset 16
 366              		.cfi_offset 4, -16
 367              		.cfi_offset 5, -12
 368              		.cfi_offset 6, -8
 369              		.cfi_offset 14, -4
 370 0002 0646     		mov	r6, r0
 371 0004 0D46     		mov	r5, r1
 410:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 372              		.loc 1 410 0
 373 0006 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 374              	.LVL27:
 375 000a E0B9     		cbnz	r0, .L31
 376              	.LVL28:
 416:../../core/drivers/S25FL256/src/S25FL256.c **** 
 377              		.loc 1 416 0
 378 000c 0F4C     		ldr	r4, .L33
 379 000e 2670     		strb	r6, [r4]
 380              	.LVL29:
 419:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)((address >> 16) & 0x000000FF);
 381              		.loc 1 419 0
 382 0010 2B0E     		lsrs	r3, r5, #24
 383 0012 6370     		strb	r3, [r4, #1]
 384              	.LVL30:
 420:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)((address >> 8) & 0x000000FF);
 385              		.loc 1 420 0
 386 0014 C5F30743 		ubfx	r3, r5, #16, #8
 387 0018 A370     		strb	r3, [r4, #2]
 388              	.LVL31:
 421:../../core/drivers/S25FL256/src/S25FL256.c ****     txData[index++] = (uint8_t)(address & 0x000000FF);
 389              		.loc 1 421 0
 390 001a C5F30723 		ubfx	r3, r5, #8, #8
 391 001e E370     		strb	r3, [r4, #3]
ARM GAS  /tmp/cchRvyl1.s 			page 16


 392              	.LVL32:
 422:../../core/drivers/S25FL256/src/S25FL256.c **** 
 393              		.loc 1 422 0
 394 0020 2571     		strb	r5, [r4, #4]
 426:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 395              		.loc 1 426 0
 396 0022 0B4D     		ldr	r5, .L33+4
 397              	.LVL33:
 398 0024 2B68     		ldr	r3, [r5]
 399 0026 1A68     		ldr	r2, [r3]
 400 0028 1368     		ldr	r3, [r2]
 401 002a 43F04003 		orr	r3, r3, #64
 402 002e 1360     		str	r3, [r2]
 427:../../core/drivers/S25FL256/src/S25FL256.c **** 
 403              		.loc 1 427 0
 404 0030 FFF7FEFF 		bl	S25FL256_Enable
 405              	.LVL34:
 430:../../core/drivers/S25FL256/src/S25FL256.c **** 
 406              		.loc 1 430 0
 407 0034 4FF0FF33 		mov	r3, #-1
 408 0038 0522     		movs	r2, #5
 409 003a 2146     		mov	r1, r4
 410 003c 2868     		ldr	r0, [r5]
 411 003e FFF7FEFF 		bl	HAL_SPI_Transmit
 412              	.LVL35:
 432:../../core/drivers/S25FL256/src/S25FL256.c **** }
 413              		.loc 1 432 0
 414 0042 0020     		movs	r0, #0
 415 0044 70BD     		pop	{r4, r5, r6, pc}
 416              	.LVL36:
 417              	.L31:
 412:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 418              		.loc 1 412 0
 419 0046 6FF00100 		mvn	r0, #1
 433:../../core/drivers/S25FL256/src/S25FL256.c **** 
 420              		.loc 1 433 0
 421 004a 70BD     		pop	{r4, r5, r6, pc}
 422              	.LVL37:
 423              	.L34:
 424              		.align	2
 425              	.L33:
 426 004c 00000000 		.word	txData
 427 0050 00000000 		.word	flashSPI
 428              		.cfi_endproc
 429              	.LFE134:
 431              		.section	.text.S25FL256_read,"ax",%progbits
 432              		.align	1
 433              		.global	S25FL256_read
 434              		.syntax unified
 435              		.thumb
 436              		.thumb_func
 437              		.fpu fpv4-sp-d16
 439              	S25FL256_read:
 440              	.LFB126:
 104:../../core/drivers/S25FL256/src/S25FL256.c **** 
 441              		.loc 1 104 0
 442              		.cfi_startproc
ARM GAS  /tmp/cchRvyl1.s 			page 17


 443              		@ args = 0, pretend = 0, frame = 0
 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445              	.LVL38:
 446 0000 38B5     		push	{r3, r4, r5, lr}
 447              	.LCFI7:
 448              		.cfi_def_cfa_offset 16
 449              		.cfi_offset 3, -16
 450              		.cfi_offset 4, -12
 451              		.cfi_offset 5, -8
 452              		.cfi_offset 14, -4
 453 0002 0546     		mov	r5, r0
 454 0004 0C46     		mov	r4, r1
 106:../../core/drivers/S25FL256/src/S25FL256.c **** 
 455              		.loc 1 106 0
 456 0006 3220     		movs	r0, #50
 457              	.LVL39:
 458 0008 FFF7FEFF 		bl	HAL_Delay
 459              	.LVL40:
 108:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 460              		.loc 1 108 0
 461 000c FFF7FEFF 		bl	S25FL256_isWriteInProgress
 462              	.LVL41:
 463 0010 98B9     		cbnz	r0, .L37
 114:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 464              		.loc 1 114 0
 465 0012 0B4B     		ldr	r3, .L39
 466 0014 1968     		ldr	r1, [r3]
 467 0016 1320     		movs	r0, #19
 468 0018 FFF7FEFF 		bl	S25FL256_send4BCommand
 469              	.LVL42:
 470 001c 10F1030F 		cmn	r0, #3
 471 0020 0DD0     		beq	.L35
 119:../../core/drivers/S25FL256/src/S25FL256.c **** 
 472              		.loc 1 119 0
 473 0022 4FF0FF33 		mov	r3, #-1
 474 0026 A2B2     		uxth	r2, r4
 475 0028 2946     		mov	r1, r5
 476 002a 0648     		ldr	r0, .L39+4
 477 002c 0068     		ldr	r0, [r0]
 478 002e FFF7FEFF 		bl	HAL_SPI_Receive
 479              	.LVL43:
 122:../../core/drivers/S25FL256/src/S25FL256.c **** 
 480              		.loc 1 122 0
 481 0032 FFF7FEFF 		bl	S25FL256_Disable
 482              	.LVL44:
 124:../../core/drivers/S25FL256/src/S25FL256.c **** }
 483              		.loc 1 124 0
 484 0036 2046     		mov	r0, r4
 485 0038 38BD     		pop	{r3, r4, r5, pc}
 486              	.LVL45:
 487              	.L37:
 110:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 488              		.loc 1 110 0
 489 003a 6FF00100 		mvn	r0, #1
 490              	.L35:
 125:../../core/drivers/S25FL256/src/S25FL256.c **** 
 491              		.loc 1 125 0
ARM GAS  /tmp/cchRvyl1.s 			page 18


 492 003e 38BD     		pop	{r3, r4, r5, pc}
 493              	.LVL46:
 494              	.L40:
 495              		.align	2
 496              	.L39:
 497 0040 00000000 		.word	mCurrentReadAddress
 498 0044 00000000 		.word	flashSPI
 499              		.cfi_endproc
 500              	.LFE126:
 502              		.section	.text.S25FL256_sendCommand,"ax",%progbits
 503              		.align	1
 504              		.global	S25FL256_sendCommand
 505              		.syntax unified
 506              		.thumb
 507              		.thumb_func
 508              		.fpu fpv4-sp-d16
 510              	S25FL256_sendCommand:
 511              	.LFB133:
 379:../../core/drivers/S25FL256/src/S25FL256.c **** 
 512              		.loc 1 379 0
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 0
 515              		@ frame_needed = 0, uses_anonymous_args = 0
 516              	.LVL47:
 517 0000 38B5     		push	{r3, r4, r5, lr}
 518              	.LCFI8:
 519              		.cfi_def_cfa_offset 16
 520              		.cfi_offset 3, -16
 521              		.cfi_offset 4, -12
 522              		.cfi_offset 5, -8
 523              		.cfi_offset 14, -4
 524 0002 0446     		mov	r4, r0
 381:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 525              		.loc 1 381 0
 526 0004 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 527              	.LVL48:
 528 0008 D8B9     		cbnz	r0, .L43
 386:../../core/drivers/S25FL256/src/S25FL256.c **** 
 529              		.loc 1 386 0
 530 000a 0F4D     		ldr	r5, .L45
 531 000c 2C70     		strb	r4, [r5]
 388:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Enable();
 532              		.loc 1 388 0
 533 000e 0F4C     		ldr	r4, .L45+4
 534 0010 2368     		ldr	r3, [r4]
 535 0012 1A68     		ldr	r2, [r3]
 536 0014 1368     		ldr	r3, [r2]
 537 0016 43F04003 		orr	r3, r3, #64
 538 001a 1360     		str	r3, [r2]
 389:../../core/drivers/S25FL256/src/S25FL256.c **** 
 539              		.loc 1 389 0
 540 001c FFF7FEFF 		bl	S25FL256_Enable
 541              	.LVL49:
 391:../../core/drivers/S25FL256/src/S25FL256.c **** 
 542              		.loc 1 391 0
 543 0020 4FF0FF33 		mov	r3, #-1
 544 0024 0122     		movs	r2, #1
ARM GAS  /tmp/cchRvyl1.s 			page 19


 545 0026 2946     		mov	r1, r5
 546 0028 2068     		ldr	r0, [r4]
 547 002a FFF7FEFF 		bl	HAL_SPI_Transmit
 548              	.LVL50:
 393:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 549              		.loc 1 393 0
 550 002e 2368     		ldr	r3, [r4]
 551 0030 1A68     		ldr	r2, [r3]
 552 0032 1368     		ldr	r3, [r2]
 553 0034 23F04003 		bic	r3, r3, #64
 554 0038 1360     		str	r3, [r2]
 394:../../core/drivers/S25FL256/src/S25FL256.c **** 
 555              		.loc 1 394 0
 556 003a FFF7FEFF 		bl	S25FL256_Disable
 557              	.LVL51:
 396:../../core/drivers/S25FL256/src/S25FL256.c **** }
 558              		.loc 1 396 0
 559 003e 0020     		movs	r0, #0
 560 0040 38BD     		pop	{r3, r4, r5, pc}
 561              	.L43:
 383:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 562              		.loc 1 383 0
 563 0042 6FF00100 		mvn	r0, #1
 397:../../core/drivers/S25FL256/src/S25FL256.c **** 
 564              		.loc 1 397 0
 565 0046 38BD     		pop	{r3, r4, r5, pc}
 566              	.L46:
 567              		.align	2
 568              	.L45:
 569 0048 00000000 		.word	txData
 570 004c 00000000 		.word	flashSPI
 571              		.cfi_endproc
 572              	.LFE133:
 574              		.section	.text.S25FL256_eraseFullFlash,"ax",%progbits
 575              		.align	1
 576              		.global	S25FL256_eraseFullFlash
 577              		.syntax unified
 578              		.thumb
 579              		.thumb_func
 580              		.fpu fpv4-sp-d16
 582              	S25FL256_eraseFullFlash:
 583              	.LFB129:
 215:../../core/drivers/S25FL256/src/S25FL256.c **** 
 584              		.loc 1 215 0
 585              		.cfi_startproc
 586              		@ args = 0, pretend = 0, frame = 0
 587              		@ frame_needed = 0, uses_anonymous_args = 0
 588 0000 08B5     		push	{r3, lr}
 589              	.LCFI9:
 590              		.cfi_def_cfa_offset 8
 591              		.cfi_offset 3, -8
 592              		.cfi_offset 14, -4
 217:../../core/drivers/S25FL256/src/S25FL256.c **** 
 593              		.loc 1 217 0
 594 0002 3220     		movs	r0, #50
 595 0004 FFF7FEFF 		bl	HAL_Delay
 596              	.LVL52:
ARM GAS  /tmp/cchRvyl1.s 			page 20


 219:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 597              		.loc 1 219 0
 598 0008 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 599              	.LVL53:
 600 000c A0B9     		cbnz	r0, .L49
 225:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 601              		.loc 1 225 0
 602 000e 0620     		movs	r0, #6
 603 0010 FFF7FEFF 		bl	S25FL256_sendCommand
 604              	.LVL54:
 605 0014 10F1030F 		cmn	r0, #3
 606 0018 0CD0     		beq	.L47
 231:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 607              		.loc 1 231 0
 608 001a 6020     		movs	r0, #96
 609 001c FFF7FEFF 		bl	S25FL256_sendCommand
 610              	.LVL55:
 611 0020 10F1030F 		cmn	r0, #3
 612 0024 06D0     		beq	.L47
 237:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 613              		.loc 1 237 0
 614 0026 0420     		movs	r0, #4
 615 0028 FFF7FEFF 		bl	S25FL256_sendCommand
 616              	.LVL56:
 617 002c 10F1030F 		cmn	r0, #3
 618 0030 01D0     		beq	.L52
 242:../../core/drivers/S25FL256/src/S25FL256.c **** }
 619              		.loc 1 242 0
 620 0032 0020     		movs	r0, #0
 621              	.L47:
 243:../../core/drivers/S25FL256/src/S25FL256.c **** 
 622              		.loc 1 243 0
 623 0034 08BD     		pop	{r3, pc}
 624              	.L52:
 625 0036 08BD     		pop	{r3, pc}
 626              	.L49:
 221:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 627              		.loc 1 221 0
 628 0038 6FF00100 		mvn	r0, #1
 629 003c 08BD     		pop	{r3, pc}
 630              		.cfi_endproc
 631              	.LFE129:
 633              		.section	.text.S25FL256_eraseSectorFromBlock,"ax",%progbits
 634              		.align	1
 635              		.global	S25FL256_eraseSectorFromBlock
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv4-sp-d16
 641              	S25FL256_eraseSectorFromBlock:
 642              	.LFB130:
 255:../../core/drivers/S25FL256/src/S25FL256.c **** 
 643              		.loc 1 255 0
 644              		.cfi_startproc
 645              		@ args = 0, pretend = 0, frame = 0
 646              		@ frame_needed = 0, uses_anonymous_args = 0
 647              	.LVL57:
ARM GAS  /tmp/cchRvyl1.s 			page 21


 648 0000 10B5     		push	{r4, lr}
 649              	.LCFI10:
 650              		.cfi_def_cfa_offset 8
 651              		.cfi_offset 4, -8
 652              		.cfi_offset 14, -4
 653 0002 0446     		mov	r4, r0
 257:../../core/drivers/S25FL256/src/S25FL256.c **** 
 654              		.loc 1 257 0
 655 0004 3220     		movs	r0, #50
 656              	.LVL58:
 657 0006 FFF7FEFF 		bl	HAL_Delay
 658              	.LVL59:
 259:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 659              		.loc 1 259 0
 660 000a FFF7FEFF 		bl	S25FL256_isWriteInProgress
 661              	.LVL60:
 662 000e 18BB     		cbnz	r0, .L55
 264:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 663              		.loc 1 264 0
 664 0010 144B     		ldr	r3, .L60
 665 0012 9C42     		cmp	r4, r3
 666 0014 23D8     		bhi	.L56
 270:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 667              		.loc 1 270 0
 668 0016 0620     		movs	r0, #6
 669 0018 FFF7FEFF 		bl	S25FL256_sendCommand
 670              	.LVL61:
 671 001c 10F1030F 		cmn	r0, #3
 672 0020 18D0     		beq	.L53
 276:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 673              		.loc 1 276 0
 674 0022 04F54051 		add	r1, r4, #12288
 675 0026 0902     		lsls	r1, r1, #8
 676 0028 DC20     		movs	r0, #220
 677 002a FFF7FEFF 		bl	S25FL256_send4BCommand
 678              	.LVL62:
 679 002e 10F1030F 		cmn	r0, #3
 680 0032 0FD0     		beq	.L53
 281:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_Disable();
 681              		.loc 1 281 0
 682 0034 0C4B     		ldr	r3, .L60+4
 683 0036 1B68     		ldr	r3, [r3]
 684 0038 1A68     		ldr	r2, [r3]
 685 003a 1368     		ldr	r3, [r2]
 686 003c 23F04003 		bic	r3, r3, #64
 687 0040 1360     		str	r3, [r2]
 282:../../core/drivers/S25FL256/src/S25FL256.c **** 
 688              		.loc 1 282 0
 689 0042 FFF7FEFF 		bl	S25FL256_Disable
 690              	.LVL63:
 285:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 691              		.loc 1 285 0
 692 0046 0420     		movs	r0, #4
 693 0048 FFF7FEFF 		bl	S25FL256_sendCommand
 694              	.LVL64:
 695 004c 10F1030F 		cmn	r0, #3
 696 0050 01D0     		beq	.L59
ARM GAS  /tmp/cchRvyl1.s 			page 22


 290:../../core/drivers/S25FL256/src/S25FL256.c **** }
 697              		.loc 1 290 0
 698 0052 0020     		movs	r0, #0
 699              	.L53:
 291:../../core/drivers/S25FL256/src/S25FL256.c **** 
 700              		.loc 1 291 0
 701 0054 10BD     		pop	{r4, pc}
 702              	.LVL65:
 703              	.L59:
 704 0056 10BD     		pop	{r4, pc}
 705              	.LVL66:
 706              	.L55:
 261:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 707              		.loc 1 261 0
 708 0058 6FF00100 		mvn	r0, #1
 709 005c 10BD     		pop	{r4, pc}
 710              	.LVL67:
 711              	.L56:
 266:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 712              		.loc 1 266 0
 713 005e 6FF00300 		mvn	r0, #3
 714 0062 10BD     		pop	{r4, pc}
 715              	.LVL68:
 716              	.L61:
 717              		.align	2
 718              	.L60:
 719 0064 47B80100 		.word	112711
 720 0068 00000000 		.word	flashSPI
 721              		.cfi_endproc
 722              	.LFE130:
 724              		.section	.text.S25FL256_flush,"ax",%progbits
 725              		.align	1
 726              		.global	S25FL256_flush
 727              		.syntax unified
 728              		.thumb
 729              		.thumb_func
 730              		.fpu fpv4-sp-d16
 732              	S25FL256_flush:
 733              	.LFB132:
 331:../../core/drivers/S25FL256/src/S25FL256.c **** 
 734              		.loc 1 331 0
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 0
 737              		@ frame_needed = 0, uses_anonymous_args = 0
 738 0000 08B5     		push	{r3, lr}
 739              	.LCFI11:
 740              		.cfi_def_cfa_offset 8
 741              		.cfi_offset 3, -8
 742              		.cfi_offset 14, -4
 333:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 743              		.loc 1 333 0
 744 0002 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 745              	.LVL69:
 746 0006 68BB     		cbnz	r0, .L64
 339:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 747              		.loc 1 339 0
 748 0008 0620     		movs	r0, #6
ARM GAS  /tmp/cchRvyl1.s 			page 23


 749 000a FFF7FEFF 		bl	S25FL256_sendCommand
 750              	.LVL70:
 751 000e 10F1030F 		cmn	r0, #3
 752 0012 29D0     		beq	.L62
 345:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 753              		.loc 1 345 0
 754 0014 154B     		ldr	r3, .L66
 755 0016 1968     		ldr	r1, [r3]
 756 0018 1220     		movs	r0, #18
 757 001a FFF7FEFF 		bl	S25FL256_send4BCommand
 758              	.LVL71:
 759 001e 10F1030F 		cmn	r0, #3
 760 0022 21D0     		beq	.L62
 350:../../core/drivers/S25FL256/src/S25FL256.c **** 
 761              		.loc 1 350 0
 762 0024 4FF0FF33 		mov	r3, #-1
 763 0028 4FF48072 		mov	r2, #256
 764 002c 1049     		ldr	r1, .L66+4
 765 002e 1148     		ldr	r0, .L66+8
 766 0030 0068     		ldr	r0, [r0]
 767 0032 FFF7FEFF 		bl	HAL_SPI_Transmit
 768              	.LVL72:
 353:../../core/drivers/S25FL256/src/S25FL256.c **** 
 769              		.loc 1 353 0
 770 0036 FFF7FEFF 		bl	S25FL256_Disable
 771              	.LVL73:
 356:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 772              		.loc 1 356 0
 773 003a 0420     		movs	r0, #4
 774 003c FFF7FEFF 		bl	S25FL256_sendCommand
 775              	.LVL74:
 776 0040 10F1030F 		cmn	r0, #3
 777 0044 10D0     		beq	.L62
 362:../../core/drivers/S25FL256/src/S25FL256.c **** 
 778              		.loc 1 362 0
 779 0046 094A     		ldr	r2, .L66
 780 0048 1368     		ldr	r3, [r2]
 781 004a 03F58073 		add	r3, r3, #256
 782 004e 1360     		str	r3, [r2]
 365:../../core/drivers/S25FL256/src/S25FL256.c ****     mMemBlockIndex = 0;
 783              		.loc 1 365 0
 784 0050 4FF48072 		mov	r2, #256
 785 0054 0021     		movs	r1, #0
 786 0056 0648     		ldr	r0, .L66+4
 787 0058 FFF7FEFF 		bl	memset
 788              	.LVL75:
 366:../../core/drivers/S25FL256/src/S25FL256.c **** 
 789              		.loc 1 366 0
 790 005c 0020     		movs	r0, #0
 791 005e 064B     		ldr	r3, .L66+12
 792 0060 1880     		strh	r0, [r3]	@ movhi
 368:../../core/drivers/S25FL256/src/S25FL256.c **** }
 793              		.loc 1 368 0
 794 0062 08BD     		pop	{r3, pc}
 795              	.L64:
 335:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 796              		.loc 1 335 0
ARM GAS  /tmp/cchRvyl1.s 			page 24


 797 0064 6FF00100 		mvn	r0, #1
 798              	.L62:
 369:../../core/drivers/S25FL256/src/S25FL256.c **** 
 799              		.loc 1 369 0
 800 0068 08BD     		pop	{r3, pc}
 801              	.L67:
 802 006a 00BF     		.align	2
 803              	.L66:
 804 006c 00000000 		.word	mCurrentWriteAddress
 805 0070 00000000 		.word	mMemBlock
 806 0074 00000000 		.word	flashSPI
 807 0078 00000000 		.word	mMemBlockIndex
 808              		.cfi_endproc
 809              	.LFE132:
 811              		.section	.text.S25FL256_write,"ax",%progbits
 812              		.align	1
 813              		.global	S25FL256_write
 814              		.syntax unified
 815              		.thumb
 816              		.thumb_func
 817              		.fpu fpv4-sp-d16
 819              	S25FL256_write:
 820              	.LFB127:
 137:../../core/drivers/S25FL256/src/S25FL256.c **** 
 821              		.loc 1 137 0
 822              		.cfi_startproc
 823              		@ args = 0, pretend = 0, frame = 0
 824              		@ frame_needed = 0, uses_anonymous_args = 0
 825              	.LVL76:
 826 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 827              	.LCFI12:
 828              		.cfi_def_cfa_offset 24
 829              		.cfi_offset 3, -24
 830              		.cfi_offset 4, -20
 831              		.cfi_offset 5, -16
 832              		.cfi_offset 6, -12
 833              		.cfi_offset 7, -8
 834              		.cfi_offset 14, -4
 835 0002 0546     		mov	r5, r0
 836 0004 0F46     		mov	r7, r1
 139:../../core/drivers/S25FL256/src/S25FL256.c **** 
 837              		.loc 1 139 0
 838 0006 3220     		movs	r0, #50
 839              	.LVL77:
 840 0008 FFF7FEFF 		bl	HAL_Delay
 841              	.LVL78:
 141:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 842              		.loc 1 141 0
 843 000c FFF7FEFF 		bl	S25FL256_isWriteInProgress
 844              	.LVL79:
 845 0010 50BB     		cbnz	r0, .L73
 146:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 846              		.loc 1 146 0
 847 0012 1A4B     		ldr	r3, .L79
 848 0014 1A68     		ldr	r2, [r3]
 849 0016 1A4B     		ldr	r3, .L79+4
 850 0018 9A42     		cmp	r2, r3
ARM GAS  /tmp/cchRvyl1.s 			page 25


 851 001a 28D8     		bhi	.L74
 852 001c 3C46     		mov	r4, r7
 853              	.L70:
 854              	.LVL80:
 153:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 855              		.loc 1 153 0
 856 001e 194B     		ldr	r3, .L79+8
 857 0020 1B88     		ldrh	r3, [r3]
 858 0022 1A19     		adds	r2, r3, r4
 859 0024 FF2A     		cmp	r2, #255
 860 0026 0FD9     		bls	.L77
 861              	.LBB2:
 157:../../core/drivers/S25FL256/src/S25FL256.c **** 
 862              		.loc 1 157 0
 863 0028 C3F58076 		rsb	r6, r3, #256
 864              	.LVL81:
 160:../../core/drivers/S25FL256/src/S25FL256.c **** 
 865              		.loc 1 160 0
 866 002c 4FF48072 		mov	r2, #256
 867 0030 2946     		mov	r1, r5
 868 0032 1548     		ldr	r0, .L79+12
 869 0034 1844     		add	r0, r0, r3
 870 0036 FFF7FEFF 		bl	memcpy
 871              	.LVL82:
 162:../../core/drivers/S25FL256/src/S25FL256.c **** 
 872              		.loc 1 162 0
 873 003a FFF7FEFF 		bl	S25FL256_flush
 874              	.LVL83:
 165:../../core/drivers/S25FL256/src/S25FL256.c ****         {
 875              		.loc 1 165 0
 876 003e 0028     		cmp	r0, #0
 877 0040 1ADB     		blt	.L68
 172:../../core/drivers/S25FL256/src/S25FL256.c ****         bytesLeftToWrite -= bytesToWrite;
 878              		.loc 1 172 0
 879 0042 3544     		add	r5, r5, r6
 880              	.LVL84:
 173:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 881              		.loc 1 173 0
 882 0044 A41B     		subs	r4, r4, r6
 883              	.LVL85:
 884 0046 EAE7     		b	.L70
 885              	.LVL86:
 886              	.L77:
 887              	.LBE2:
 176:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 888              		.loc 1 176 0
 889 0048 0C4A     		ldr	r2, .L79
 890 004a 1168     		ldr	r1, [r2]
 891 004c 0C4A     		ldr	r2, .L79+4
 892 004e 9142     		cmp	r1, r2
 893 0050 10D8     		bhi	.L75
 181:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 894              		.loc 1 181 0
 895 0052 0CB9     		cbnz	r4, .L78
 896              	.LVL87:
 897              	.L72:
 188:../../core/drivers/S25FL256/src/S25FL256.c **** }
ARM GAS  /tmp/cchRvyl1.s 			page 26


 898              		.loc 1 188 0
 899 0054 381B     		subs	r0, r7, r4
 900 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 901              	.LVL88:
 902              	.L78:
 184:../../core/drivers/S25FL256/src/S25FL256.c ****         bytesLeftToWrite = 0;
 903              		.loc 1 184 0
 904 0058 2246     		mov	r2, r4
 905 005a 2946     		mov	r1, r5
 906 005c 0A48     		ldr	r0, .L79+12
 907 005e 1844     		add	r0, r0, r3
 908 0060 FFF7FEFF 		bl	memcpy
 909              	.LVL89:
 185:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 910              		.loc 1 185 0
 911 0064 0024     		movs	r4, #0
 912 0066 F5E7     		b	.L72
 913              	.LVL90:
 914              	.L73:
 143:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 915              		.loc 1 143 0
 916 0068 6FF00100 		mvn	r0, #1
 917 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 918              	.LVL91:
 919              	.L74:
 148:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 920              		.loc 1 148 0
 921 006e 6FF00400 		mvn	r0, #4
 922 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 923              	.LVL92:
 924              	.L75:
 179:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 925              		.loc 1 179 0
 926 0074 6FF00400 		mvn	r0, #4
 927              	.L68:
 189:../../core/drivers/S25FL256/src/S25FL256.c **** 
 928              		.loc 1 189 0
 929 0078 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 930              	.LVL93:
 931              	.L80:
 932 007a 00BF     		.align	2
 933              	.L79:
 934 007c 00000000 		.word	mCurrentWriteAddress
 935 0080 0048E801 		.word	32000000
 936 0084 00000000 		.word	mMemBlockIndex
 937 0088 00000000 		.word	mMemBlock
 938              		.cfi_endproc
 939              	.LFE127:
 941              		.section	.text.S25FL256_TestRW,"ax",%progbits
 942              		.align	1
 943              		.global	S25FL256_TestRW
 944              		.syntax unified
 945              		.thumb
 946              		.thumb_func
 947              		.fpu fpv4-sp-d16
 949              	S25FL256_TestRW:
 950              	.LFB137:
ARM GAS  /tmp/cchRvyl1.s 			page 27


 447:../../core/drivers/S25FL256/src/S25FL256.c **** }
 448:../../core/drivers/S25FL256/src/S25FL256.c **** 
 449:../../core/drivers/S25FL256/src/S25FL256.c **** /* READ WRITE TEST 
 450:../../core/drivers/S25FL256/src/S25FL256.c **** *writes 1 block en reads it
 451:../../core/drivers/S25FL256/src/S25FL256.c **** * returns 1 if equal (success), 0 if not equal (fail)
 452:../../core/drivers/S25FL256/src/S25FL256.c **** */
 453:../../core/drivers/S25FL256/src/S25FL256.c **** uint8_t S25FL256_TestRW()
 454:../../core/drivers/S25FL256/src/S25FL256.c **** {
 951              		.loc 1 454 0
 952              		.cfi_startproc
 953              		@ args = 0, pretend = 0, frame = 0
 954              		@ frame_needed = 0, uses_anonymous_args = 0
 955 0000 70B5     		push	{r4, r5, r6, lr}
 956              	.LCFI13:
 957              		.cfi_def_cfa_offset 16
 958              		.cfi_offset 4, -16
 959              		.cfi_offset 5, -12
 960              		.cfi_offset 6, -8
 961              		.cfi_offset 14, -4
 962              	.LVL94:
 963              	.LBB3:
 455:../../core/drivers/S25FL256/src/S25FL256.c ****     //test flash RW
 456:../../core/drivers/S25FL256/src/S25FL256.c ****     #define SIZE 256
 457:../../core/drivers/S25FL256/src/S25FL256.c ****     #define BLOCK_ID 0
 458:../../core/drivers/S25FL256/src/S25FL256.c **** 
 459:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t block1 = 1;
 460:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t block2 = 1;
 461:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t block3 = 1;
 462:../../core/drivers/S25FL256/src/S25FL256.c ****     
 463:../../core/drivers/S25FL256/src/S25FL256.c **** 
 464:../../core/drivers/S25FL256/src/S25FL256.c ****     static uint8_t tx[SIZE];
 465:../../core/drivers/S25FL256/src/S25FL256.c ****     static uint8_t rx[SIZE];
 466:../../core/drivers/S25FL256/src/S25FL256.c **** 
 467:../../core/drivers/S25FL256/src/S25FL256.c ****     //fill tx array
 468:../../core/drivers/S25FL256/src/S25FL256.c ****     for (int n = 0; n < SIZE; n++)
 964              		.loc 1 468 0
 965 0002 0023     		movs	r3, #0
 966 0004 02E0     		b	.L82
 967              	.LVL95:
 968              	.L83:
 469:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 470:../../core/drivers/S25FL256/src/S25FL256.c ****         tx[n] = n;
 969              		.loc 1 470 0 discriminator 3
 970 0006 454A     		ldr	r2, .L113
 971 0008 D354     		strb	r3, [r2, r3]
 468:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 972              		.loc 1 468 0 discriminator 3
 973 000a 0133     		adds	r3, r3, #1
 974              	.LVL96:
 975              	.L82:
 468:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 976              		.loc 1 468 0 is_stmt 0 discriminator 1
 977 000c FF2B     		cmp	r3, #255
 978 000e FADD     		ble	.L83
 979              	.LBE3:
 471:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 472:../../core/drivers/S25FL256/src/S25FL256.c **** 
ARM GAS  /tmp/cchRvyl1.s 			page 28


 473:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_open(BLOCK_ID);
 980              		.loc 1 473 0 is_stmt 1
 981 0010 0020     		movs	r0, #0
 982 0012 FFF7FEFF 		bl	S25FL256_open
 983              	.LVL97:
 474:../../core/drivers/S25FL256/src/S25FL256.c **** 
 475:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_write((uint8_t *)tx, SIZE);
 984              		.loc 1 475 0
 985 0016 4FF48071 		mov	r1, #256
 986 001a 4048     		ldr	r0, .L113
 987 001c FFF7FEFF 		bl	S25FL256_write
 988              	.LVL98:
 476:../../core/drivers/S25FL256/src/S25FL256.c **** 
 477:../../core/drivers/S25FL256/src/S25FL256.c ****     while (S25FL256_isWriteInProgress())
 989              		.loc 1 477 0
 990 0020 02E0     		b	.L84
 991              	.L85:
 478:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 479:../../core/drivers/S25FL256/src/S25FL256.c ****         HAL_Delay(SPI_WAIT);
 992              		.loc 1 479 0
 993 0022 3220     		movs	r0, #50
 994 0024 FFF7FEFF 		bl	HAL_Delay
 995              	.LVL99:
 996              	.L84:
 477:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 997              		.loc 1 477 0
 998 0028 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 999              	.LVL100:
 1000 002c 0546     		mov	r5, r0
 1001 002e 0028     		cmp	r0, #0
 1002 0030 F7D1     		bne	.L85
 480:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 481:../../core/drivers/S25FL256/src/S25FL256.c **** 
 482:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_read((uint8_t *)rx, SIZE);
 1003              		.loc 1 482 0
 1004 0032 4FF48071 		mov	r1, #256
 1005 0036 3A48     		ldr	r0, .L113+4
 1006 0038 FFF7FEFF 		bl	S25FL256_read
 1007              	.LVL101:
 1008              	.LBB4:
 483:../../core/drivers/S25FL256/src/S25FL256.c ****     
 484:../../core/drivers/S25FL256/src/S25FL256.c ****     for(int i = 0; i < SIZE; i++)
 1009              		.loc 1 484 0
 1010 003c 0023     		movs	r3, #0
 1011              	.LBE4:
 459:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t block2 = 1;
 1012              		.loc 1 459 0
 1013 003e 0124     		movs	r4, #1
 1014              	.LBB5:
 1015              		.loc 1 484 0
 1016 0040 00E0     		b	.L86
 1017              	.LVL102:
 1018              	.L87:
 1019              		.loc 1 484 0 is_stmt 0 discriminator 2
 1020 0042 0133     		adds	r3, r3, #1
 1021              	.LVL103:
 1022              	.L86:
ARM GAS  /tmp/cchRvyl1.s 			page 29


 1023              		.loc 1 484 0 discriminator 1
 1024 0044 FF2B     		cmp	r3, #255
 1025 0046 07DC     		bgt	.L109
 485:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 486:../../core/drivers/S25FL256/src/S25FL256.c ****         if(tx[i] != rx[i])
 1026              		.loc 1 486 0 is_stmt 1
 1027 0048 344A     		ldr	r2, .L113
 1028 004a D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 1029 004c 344A     		ldr	r2, .L113+4
 1030 004e D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 1031 0050 9142     		cmp	r1, r2
 1032 0052 F6D0     		beq	.L87
 487:../../core/drivers/S25FL256/src/S25FL256.c ****         {
 488:../../core/drivers/S25FL256/src/S25FL256.c ****             block1 =0;
 1033              		.loc 1 488 0
 1034 0054 2C46     		mov	r4, r5
 1035              	.LVL104:
 1036 0056 F4E7     		b	.L87
 1037              	.LVL105:
 1038              	.L109:
 1039 0058 0023     		movs	r3, #0
 1040              	.LVL106:
 1041 005a 03E0     		b	.L89
 1042              	.LVL107:
 1043              	.L90:
 1044              	.LBE5:
 1045              	.LBB6:
 489:../../core/drivers/S25FL256/src/S25FL256.c ****         }
 490:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 491:../../core/drivers/S25FL256/src/S25FL256.c **** 
 492:../../core/drivers/S25FL256/src/S25FL256.c ****     for (int n = 0; n < SIZE; n++)
 493:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 494:../../core/drivers/S25FL256/src/S25FL256.c ****         tx[n] = 255-n;
 1046              		.loc 1 494 0 discriminator 3
 1047 005c D943     		mvns	r1, r3
 1048 005e 2F4A     		ldr	r2, .L113
 1049 0060 D154     		strb	r1, [r2, r3]
 492:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1050              		.loc 1 492 0 discriminator 3
 1051 0062 0133     		adds	r3, r3, #1
 1052              	.LVL108:
 1053              	.L89:
 492:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1054              		.loc 1 492 0 is_stmt 0 discriminator 1
 1055 0064 FF2B     		cmp	r3, #255
 1056 0066 F9DD     		ble	.L90
 1057              	.LBE6:
 495:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 496:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_open(BLOCK_ID+1);
 1058              		.loc 1 496 0 is_stmt 1
 1059 0068 0120     		movs	r0, #1
 1060 006a FFF7FEFF 		bl	S25FL256_open
 1061              	.LVL109:
 497:../../core/drivers/S25FL256/src/S25FL256.c **** 
 498:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_write((uint8_t *)tx, SIZE);
 1062              		.loc 1 498 0
 1063 006e 4FF48071 		mov	r1, #256
ARM GAS  /tmp/cchRvyl1.s 			page 30


 1064 0072 2A48     		ldr	r0, .L113
 1065 0074 FFF7FEFF 		bl	S25FL256_write
 1066              	.LVL110:
 499:../../core/drivers/S25FL256/src/S25FL256.c **** 
 500:../../core/drivers/S25FL256/src/S25FL256.c ****     while (S25FL256_isWriteInProgress())
 1067              		.loc 1 500 0
 1068 0078 02E0     		b	.L91
 1069              	.L92:
 501:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 502:../../core/drivers/S25FL256/src/S25FL256.c ****         HAL_Delay(SPI_WAIT);
 1070              		.loc 1 502 0
 1071 007a 3220     		movs	r0, #50
 1072 007c FFF7FEFF 		bl	HAL_Delay
 1073              	.LVL111:
 1074              	.L91:
 500:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1075              		.loc 1 500 0
 1076 0080 FFF7FEFF 		bl	S25FL256_isWriteInProgress
 1077              	.LVL112:
 1078 0084 0646     		mov	r6, r0
 1079 0086 0028     		cmp	r0, #0
 1080 0088 F7D1     		bne	.L92
 503:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 504:../../core/drivers/S25FL256/src/S25FL256.c **** 
 505:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_read((uint8_t *)rx, SIZE);
 1081              		.loc 1 505 0
 1082 008a 4FF48071 		mov	r1, #256
 1083 008e 2448     		ldr	r0, .L113+4
 1084 0090 FFF7FEFF 		bl	S25FL256_read
 1085              	.LVL113:
 1086              	.LBB7:
 506:../../core/drivers/S25FL256/src/S25FL256.c ****     
 507:../../core/drivers/S25FL256/src/S25FL256.c ****     for(int i = 0; i < SIZE; i++)
 1087              		.loc 1 507 0
 1088 0094 0023     		movs	r3, #0
 1089              	.LBE7:
 460:../../core/drivers/S25FL256/src/S25FL256.c ****     uint8_t block3 = 1;
 1090              		.loc 1 460 0
 1091 0096 0125     		movs	r5, #1
 1092              	.LBB8:
 1093              		.loc 1 507 0
 1094 0098 00E0     		b	.L93
 1095              	.LVL114:
 1096              	.L94:
 1097              		.loc 1 507 0 is_stmt 0 discriminator 2
 1098 009a 0133     		adds	r3, r3, #1
 1099              	.LVL115:
 1100              	.L93:
 1101              		.loc 1 507 0 discriminator 1
 1102 009c FF2B     		cmp	r3, #255
 1103 009e 07DC     		bgt	.L110
 508:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 509:../../core/drivers/S25FL256/src/S25FL256.c ****         if(tx[i] != rx[i])
 1104              		.loc 1 509 0 is_stmt 1
 1105 00a0 1E4A     		ldr	r2, .L113
 1106 00a2 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 1107 00a4 1E4A     		ldr	r2, .L113+4
ARM GAS  /tmp/cchRvyl1.s 			page 31


 1108 00a6 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 1109 00a8 9142     		cmp	r1, r2
 1110 00aa F6D0     		beq	.L94
 510:../../core/drivers/S25FL256/src/S25FL256.c ****         {
 511:../../core/drivers/S25FL256/src/S25FL256.c ****             block2 = 0;
 1111              		.loc 1 511 0
 1112 00ac 3546     		mov	r5, r6
 1113              	.LVL116:
 1114 00ae F4E7     		b	.L94
 1115              	.LVL117:
 1116              	.L110:
 1117 00b0 0023     		movs	r3, #0
 1118              	.LVL118:
 1119 00b2 05E0     		b	.L96
 1120              	.LVL119:
 1121              	.L97:
 1122              	.LBE8:
 1123              	.LBB9:
 512:../../core/drivers/S25FL256/src/S25FL256.c ****         }
 513:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 514:../../core/drivers/S25FL256/src/S25FL256.c ****     for (int n = 0; n < SIZE; n++)
 515:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 516:../../core/drivers/S25FL256/src/S25FL256.c ****         tx[n] = n/2;
 1124              		.loc 1 516 0 discriminator 3
 1125 00b4 03EBD372 		add	r2, r3, r3, lsr #31
 1126 00b8 5210     		asrs	r2, r2, #1
 1127 00ba 1849     		ldr	r1, .L113
 1128 00bc CA54     		strb	r2, [r1, r3]
 514:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1129              		.loc 1 514 0 discriminator 3
 1130 00be 0133     		adds	r3, r3, #1
 1131              	.LVL120:
 1132              	.L96:
 514:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1133              		.loc 1 514 0 is_stmt 0 discriminator 1
 1134 00c0 FF2B     		cmp	r3, #255
 1135 00c2 F7DD     		ble	.L97
 1136              	.LBE9:
 517:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 518:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_open(BLOCK_ID+2);
 1137              		.loc 1 518 0 is_stmt 1
 1138 00c4 0220     		movs	r0, #2
 1139 00c6 FFF7FEFF 		bl	S25FL256_open
 1140              	.LVL121:
 519:../../core/drivers/S25FL256/src/S25FL256.c **** 
 520:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_write((uint8_t *)tx, SIZE);
 1141              		.loc 1 520 0
 1142 00ca 4FF48071 		mov	r1, #256
 1143 00ce 1348     		ldr	r0, .L113
 1144 00d0 FFF7FEFF 		bl	S25FL256_write
 1145              	.LVL122:
 521:../../core/drivers/S25FL256/src/S25FL256.c **** 
 522:../../core/drivers/S25FL256/src/S25FL256.c ****     while (S25FL256_isWriteInProgress())
 1146              		.loc 1 522 0
 1147 00d4 02E0     		b	.L98
 1148              	.L99:
 523:../../core/drivers/S25FL256/src/S25FL256.c ****     {
ARM GAS  /tmp/cchRvyl1.s 			page 32


 524:../../core/drivers/S25FL256/src/S25FL256.c ****         HAL_Delay(SPI_WAIT);
 1149              		.loc 1 524 0
 1150 00d6 3220     		movs	r0, #50
 1151 00d8 FFF7FEFF 		bl	HAL_Delay
 1152              	.LVL123:
 1153              	.L98:
 522:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 1154              		.loc 1 522 0
 1155 00dc FFF7FEFF 		bl	S25FL256_isWriteInProgress
 1156              	.LVL124:
 1157 00e0 0646     		mov	r6, r0
 1158 00e2 0028     		cmp	r0, #0
 1159 00e4 F7D1     		bne	.L99
 525:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 526:../../core/drivers/S25FL256/src/S25FL256.c **** 
 527:../../core/drivers/S25FL256/src/S25FL256.c ****     S25FL256_read((uint8_t *)rx, SIZE);
 1160              		.loc 1 527 0
 1161 00e6 4FF48071 		mov	r1, #256
 1162 00ea 0D48     		ldr	r0, .L113+4
 1163 00ec FFF7FEFF 		bl	S25FL256_read
 1164              	.LVL125:
 1165              	.LBB10:
 528:../../core/drivers/S25FL256/src/S25FL256.c ****     
 529:../../core/drivers/S25FL256/src/S25FL256.c ****     for(int i = 0; i < SIZE; i++)
 1166              		.loc 1 529 0
 1167 00f0 0023     		movs	r3, #0
 1168              	.LBE10:
 461:../../core/drivers/S25FL256/src/S25FL256.c ****     
 1169              		.loc 1 461 0
 1170 00f2 0120     		movs	r0, #1
 1171              	.LBB11:
 1172              		.loc 1 529 0
 1173 00f4 00E0     		b	.L100
 1174              	.LVL126:
 1175              	.L101:
 1176              		.loc 1 529 0 is_stmt 0 discriminator 2
 1177 00f6 0133     		adds	r3, r3, #1
 1178              	.LVL127:
 1179              	.L100:
 1180              		.loc 1 529 0 discriminator 1
 1181 00f8 FF2B     		cmp	r3, #255
 1182 00fa 07DC     		bgt	.L111
 530:../../core/drivers/S25FL256/src/S25FL256.c ****     {
 531:../../core/drivers/S25FL256/src/S25FL256.c ****         if(tx[i] != rx[i])
 1183              		.loc 1 531 0 is_stmt 1
 1184 00fc 074A     		ldr	r2, .L113
 1185 00fe D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 1186 0100 074A     		ldr	r2, .L113+4
 1187 0102 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 1188 0104 9142     		cmp	r1, r2
 1189 0106 F6D0     		beq	.L101
 532:../../core/drivers/S25FL256/src/S25FL256.c ****         {
 533:../../core/drivers/S25FL256/src/S25FL256.c ****             block3 = 0;
 1190              		.loc 1 533 0
 1191 0108 3046     		mov	r0, r6
 1192              	.LVL128:
 1193 010a F4E7     		b	.L101
ARM GAS  /tmp/cchRvyl1.s 			page 33


 1194              	.LVL129:
 1195              	.L111:
 1196              	.LBE11:
 534:../../core/drivers/S25FL256/src/S25FL256.c ****         }
 535:../../core/drivers/S25FL256/src/S25FL256.c ****     }
 536:../../core/drivers/S25FL256/src/S25FL256.c ****     if(block1 && block2 && block3)
 1197              		.loc 1 536 0
 1198 010c 0CB1     		cbz	r4, .L103
 1199              		.loc 1 536 0 is_stmt 0 discriminator 1
 1200 010e 05B1     		cbz	r5, .L103
 1201              		.loc 1 536 0 discriminator 2
 1202 0110 08B9     		cbnz	r0, .L112
 1203              	.L103:
 537:../../core/drivers/S25FL256/src/S25FL256.c ****         return 1;
 538:../../core/drivers/S25FL256/src/S25FL256.c ****     else
 539:../../core/drivers/S25FL256/src/S25FL256.c ****         return 0;
 540:../../core/drivers/S25FL256/src/S25FL256.c **** }...
 1204              		.loc 1 540 0 is_stmt 1
 1205 0112 3046     		mov	r0, r6
 1206              	.LVL130:
 1207 0114 70BD     		pop	{r4, r5, r6, pc}
 1208              	.LVL131:
 1209              	.L112:
 537:../../core/drivers/S25FL256/src/S25FL256.c ****         return 1;
 1210              		.loc 1 537 0
 1211 0116 0646     		mov	r6, r0
 1212 0118 FBE7     		b	.L103
 1213              	.L114:
 1214 011a 00BF     		.align	2
 1215              	.L113:
 1216 011c 00000000 		.word	.LANCHOR0
 1217 0120 00000000 		.word	.LANCHOR1
 1218              		.cfi_endproc
 1219              	.LFE137:
 1221              		.comm	flashSPI,4,4
 1222              		.comm	txData,5,4
 1223              		.comm	rxData,1,4
 1224              		.comm	_initialised,1,1
 1225              		.comm	mMemBlockIndex,2,2
 1226              		.comm	mMemBlock,256,4
 1227              		.comm	mCurrentWriteAddress,4,4
 1228              		.comm	mCurrentReadAddress,4,4
 1229              		.section	.bss.rx.10014,"aw",%nobits
 1230              		.align	2
 1231              		.set	.LANCHOR1,. + 0
 1234              	rx.10014:
 1235 0000 00000000 		.space	256
 1235      00000000 
 1235      00000000 
 1235      00000000 
 1235      00000000 
 1236              		.section	.bss.tx.10013,"aw",%nobits
 1237              		.align	2
 1238              		.set	.LANCHOR0,. + 0
 1241              	tx.10013:
 1242 0000 00000000 		.space	256
 1242      00000000 
ARM GAS  /tmp/cchRvyl1.s 			page 34


 1242      00000000 
 1242      00000000 
 1242      00000000 
 1243              		.text
 1244              	.Letext0:
 1245              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1246              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 1247              		.file 4 "../../core/ST/CMSIS/Include/core_cm4.h"
 1248              		.file 5 "../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 1249              		.file 6 "../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/stm32l496xx.h"
 1250              		.file 7 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1251              		.file 8 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1252              		.file 9 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1253              		.file 10 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 1254              		.file 11 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1255              		.file 12 "../../core/drivers/S25FL256/inc/S25FL256.h"
 1256              		.file 13 "/usr/include/newlib/sys/lock.h"
 1257              		.file 14 "/usr/include/newlib/sys/_types.h"
 1258              		.file 15 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 1259              		.file 16 "/usr/include/newlib/sys/reent.h"
ARM GAS  /tmp/cchRvyl1.s 			page 35


DEFINED SYMBOLS
                            *ABS*:0000000000000000 S25FL256.c
     /tmp/cchRvyl1.s:18     .text.S25FL256_Initialize:0000000000000000 $t
     /tmp/cchRvyl1.s:25     .text.S25FL256_Initialize:0000000000000000 S25FL256_Initialize
     /tmp/cchRvyl1.s:93     .text.S25FL256_Initialize:0000000000000054 $d
                            *COM*:0000000000000002 mMemBlockIndex
                            *COM*:0000000000000100 mMemBlock
                            *COM*:0000000000000004 mCurrentReadAddress
                            *COM*:0000000000000004 mCurrentWriteAddress
                            *COM*:0000000000000001 _initialised
                            *COM*:0000000000000004 flashSPI
     /tmp/cchRvyl1.s:105    .text.S25FL256_Enable:0000000000000000 $t
     /tmp/cchRvyl1.s:112    .text.S25FL256_Enable:0000000000000000 S25FL256_Enable
     /tmp/cchRvyl1.s:133    .text.S25FL256_Enable:0000000000000010 $d
     /tmp/cchRvyl1.s:138    .text.S25FL256_Disable:0000000000000000 $t
     /tmp/cchRvyl1.s:145    .text.S25FL256_Disable:0000000000000000 S25FL256_Disable
     /tmp/cchRvyl1.s:166    .text.S25FL256_Disable:0000000000000010 $d
     /tmp/cchRvyl1.s:171    .text.S25FL256_readReg:0000000000000000 $t
     /tmp/cchRvyl1.s:178    .text.S25FL256_readReg:0000000000000000 S25FL256_readReg
     /tmp/cchRvyl1.s:235    .text.S25FL256_readReg:0000000000000048 $d
                            *COM*:0000000000000005 txData
                            *COM*:0000000000000001 rxData
     /tmp/cchRvyl1.s:242    .text.S25FL256_isWriteInProgress:0000000000000000 $t
     /tmp/cchRvyl1.s:249    .text.S25FL256_isWriteInProgress:0000000000000000 S25FL256_isWriteInProgress
     /tmp/cchRvyl1.s:281    .text.S25FL256_open:0000000000000000 $t
     /tmp/cchRvyl1.s:288    .text.S25FL256_open:0000000000000000 S25FL256_open
     /tmp/cchRvyl1.s:342    .text.S25FL256_open:0000000000000034 $d
     /tmp/cchRvyl1.s:349    .text.S25FL256_send4BCommand:0000000000000000 $t
     /tmp/cchRvyl1.s:356    .text.S25FL256_send4BCommand:0000000000000000 S25FL256_send4BCommand
     /tmp/cchRvyl1.s:426    .text.S25FL256_send4BCommand:000000000000004c $d
     /tmp/cchRvyl1.s:432    .text.S25FL256_read:0000000000000000 $t
     /tmp/cchRvyl1.s:439    .text.S25FL256_read:0000000000000000 S25FL256_read
     /tmp/cchRvyl1.s:497    .text.S25FL256_read:0000000000000040 $d
     /tmp/cchRvyl1.s:503    .text.S25FL256_sendCommand:0000000000000000 $t
     /tmp/cchRvyl1.s:510    .text.S25FL256_sendCommand:0000000000000000 S25FL256_sendCommand
     /tmp/cchRvyl1.s:569    .text.S25FL256_sendCommand:0000000000000048 $d
     /tmp/cchRvyl1.s:575    .text.S25FL256_eraseFullFlash:0000000000000000 $t
     /tmp/cchRvyl1.s:582    .text.S25FL256_eraseFullFlash:0000000000000000 S25FL256_eraseFullFlash
     /tmp/cchRvyl1.s:634    .text.S25FL256_eraseSectorFromBlock:0000000000000000 $t
     /tmp/cchRvyl1.s:641    .text.S25FL256_eraseSectorFromBlock:0000000000000000 S25FL256_eraseSectorFromBlock
     /tmp/cchRvyl1.s:719    .text.S25FL256_eraseSectorFromBlock:0000000000000064 $d
     /tmp/cchRvyl1.s:725    .text.S25FL256_flush:0000000000000000 $t
     /tmp/cchRvyl1.s:732    .text.S25FL256_flush:0000000000000000 S25FL256_flush
     /tmp/cchRvyl1.s:804    .text.S25FL256_flush:000000000000006c $d
     /tmp/cchRvyl1.s:812    .text.S25FL256_write:0000000000000000 $t
     /tmp/cchRvyl1.s:819    .text.S25FL256_write:0000000000000000 S25FL256_write
     /tmp/cchRvyl1.s:934    .text.S25FL256_write:000000000000007c $d
     /tmp/cchRvyl1.s:942    .text.S25FL256_TestRW:0000000000000000 $t
     /tmp/cchRvyl1.s:949    .text.S25FL256_TestRW:0000000000000000 S25FL256_TestRW
     /tmp/cchRvyl1.s:1216   .text.S25FL256_TestRW:000000000000011c $d
     /tmp/cchRvyl1.s:1230   .bss.rx.10014:0000000000000000 $d
     /tmp/cchRvyl1.s:1234   .bss.rx.10014:0000000000000000 rx.10014
     /tmp/cchRvyl1.s:1237   .bss.tx.10013:0000000000000000 $d
     /tmp/cchRvyl1.s:1241   .bss.tx.10013:0000000000000000 tx.10013
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
ARM GAS  /tmp/cchRvyl1.s 			page 36


memset
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
HAL_Delay
memcpy
